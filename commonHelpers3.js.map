{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst form = document.querySelector('.feedback-form');\nconst email = form.querySelector('[name=\"email\"]');\nconst message = form.querySelector('[name=\"message\"]');\n\nconst KEY_FIELD = 'feedback-form-state';\n\nconst objData = { email: '', message: '' };\n\nconst handleInputChange = e => {\n  const inputName = e.target.name;\n  const inputMessage = e.target.value;\n  \n  objData[inputName] = inputMessage;\n\n  localStorage.setItem(KEY_FIELD, JSON.stringify(objData));\n};\n\nif (localStorage.getItem(KEY_FIELD)) {\n  const dataLocal = JSON.parse(localStorage.getItem(KEY_FIELD));\n\n  email.value = dataLocal.email;\n  message.value = dataLocal.message;\n}\n\nconst handleSubmit = e => {\n  e.preventDefault();\n  localStorage.removeItem(KEY_FIELD);\n  console.log(objData);\n  objData.email = '';\n  objData.message = '';\n  email.value = '';\n  message.value = '';\n};\n\nform.addEventListener('input', throttle(handleInputChange, 500));\nform.addEventListener('submit', handleSubmit);\n"],"names":["form","email","message","KEY_FIELD","objData","handleInputChange","inputName","inputMessage","dataLocal","handleSubmit","throttle"],"mappings":"wIAEA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAQD,EAAK,cAAc,gBAAgB,EAC3CE,EAAUF,EAAK,cAAc,kBAAkB,EAE/CG,EAAY,sBAEZC,EAAU,CAAE,MAAO,GAAI,QAAS,EAAE,EAElCC,EAAoB,GAAK,CAC7B,MAAMC,EAAY,EAAE,OAAO,KACrBC,EAAe,EAAE,OAAO,MAE9BH,EAAQE,GAAaC,EAErB,aAAa,QAAQJ,EAAW,KAAK,UAAUC,CAAO,CAAC,CACzD,EAEA,GAAI,aAAa,QAAQD,CAAS,EAAG,CACnC,MAAMK,EAAY,KAAK,MAAM,aAAa,QAAQL,CAAS,CAAC,EAE5DF,EAAM,MAAQO,EAAU,MACxBN,EAAQ,MAAQM,EAAU,OAC5B,CAEA,MAAMC,EAAe,GAAK,CACxB,EAAE,eAAc,EAChB,aAAa,WAAWN,CAAS,EACjC,QAAQ,IAAIC,CAAO,EACnBA,EAAQ,MAAQ,GAChBA,EAAQ,QAAU,GAClBH,EAAM,MAAQ,GACdC,EAAQ,MAAQ,EAClB,EAEAF,EAAK,iBAAiB,QAASU,EAASL,EAAmB,GAAG,CAAC,EAC/DL,EAAK,iBAAiB,SAAUS,CAAY"}