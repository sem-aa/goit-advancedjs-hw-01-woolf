{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst form = document.querySelector('.feedback-form');\nconst email = form.querySelector('[name=\"email\"]');\nconst message = form.querySelector('[name=\"message\"]');\n\nconst KEY_FIELD = 'feedback-form-state';\n\nlet dataLocal = JSON.parse(localStorage.getItem(KEY_FIELD)) || {};\n\nif (dataLocal.email || dataLocal.message) {\n  email.value = dataLocal.email ?? '';\n  message.value = dataLocal.message ?? '';\n}\n\nconst handleInputChange = e => {\n  const inputName = e.target.name;\n  const inputMessage = e.target.value;\n\n  dataLocal[inputName] = inputMessage;\n\n  localStorage.setItem(KEY_FIELD, JSON.stringify(dataLocal));\n};\n\nconst handleSubmit = e => {\n  e.preventDefault();\n  localStorage.removeItem(KEY_FIELD);\n  console.log(dataLocal);\n  dataLocal = {};\n  email.value = '';\n  message.value = '';\n};\n\nform.addEventListener('input', throttle(handleInputChange, 500));\nform.addEventListener('submit', handleSubmit);\n"],"names":["form","email","message","KEY_FIELD","dataLocal","handleInputChange","e","inputName","inputMessage","handleSubmit","throttle"],"mappings":"wIAEA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAQD,EAAK,cAAc,gBAAgB,EAC3CE,EAAUF,EAAK,cAAc,kBAAkB,EAE/CG,EAAY,sBAElB,IAAIC,EAAY,KAAK,MAAM,aAAa,QAAQD,CAAS,CAAC,GAAK,IAE3DC,EAAU,OAASA,EAAU,WAC/BH,EAAM,MAAQG,EAAU,OAAS,GACjCF,EAAQ,MAAQE,EAAU,SAAW,IAGvC,MAAMC,EAAoBC,GAAK,CAC7B,MAAMC,EAAYD,EAAE,OAAO,KACrBE,EAAeF,EAAE,OAAO,MAE9BF,EAAUG,GAAaC,EAEvB,aAAa,QAAQL,EAAW,KAAK,UAAUC,CAAS,CAAC,CAC3D,EAEMK,EAAeH,GAAK,CACxBA,EAAE,eAAc,EAChB,aAAa,WAAWH,CAAS,EACjC,QAAQ,IAAIC,CAAS,EACrBA,EAAY,CAAA,EACZH,EAAM,MAAQ,GACdC,EAAQ,MAAQ,EAClB,EAEAF,EAAK,iBAAiB,QAASU,EAASL,EAAmB,GAAG,CAAC,EAC/DL,EAAK,iBAAiB,SAAUS,CAAY"}